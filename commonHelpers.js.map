{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["function renderItem(array) {\n  const result = array\n    .map(item => {\n      return `<li class=\"userItem\">\n            <a class='link_photo' href=\"${item.largeImageURL}\"\n              ><img class=\"mini_photo\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" title=\"${item.tags}\"\n            /></a>\n            <ul class=\"counter\">\n              <li class=\"counter_wrapper\">\n                <h3 class=\"likes\">Likes</h3>\n                <p class=\"likes_amount\">${item.likes}</p>\n              </li>\n              <li class=\"counter_wrapper\">\n                <h3 class=\"views\">Views</h3>\n                <p class=\"views_amount\">${item.views}</p>\n              </li>\n              <li class=\"counter_wrapper\">\n                <h3 class=\"comments\">Comments</h3>\n                <p class=\"comments_amount\">${item.comments}</p>\n              </li>\n              <li class=\"counter_wrapper\">\n                <h3 class=\"downloads\">Downloads</h3>\n                <p class=\"downloads_amount\">${item.downloads}</p>\n              </li>\n            </ul>\n          </li>`;\n    })\n    .join('');\n  return result;\n}\n\nexport default renderItem;\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport renderItem from './render-functions';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction useApi(request, userList, loader) {\n  const searchParams = new URLSearchParams({\n    key: '43243729-04275528cc78ca8d3cba6ce95',\n    q: request,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      loader.style.display = 'none';\n      return response.json();\n    })\n    .then(response => {\n      if (response.total === 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const pictures = response.hits;\n        const item = renderItem(pictures);\n        userList.insertAdjacentHTML('beforeend', item);\n        const lightbox = new SimpleLightbox('.userItem a');\n        lightbox.refresh();\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nexport default useApi;\n","import useApi from './js/pixabay-api';\n\nconst form = document.querySelector('form');\nconst userList = document.querySelector('.userList');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  userList.innerHTML = '';\n  loader.style.display = 'inline-block';\n  const requestText = form.elements.request.value;\n\n  useApi(requestText, userList, loader);\n});\n"],"names":["renderItem","array","item","useApi","request","userList","loader","searchParams","response","iziToast","pictures","SimpleLightbox","error","form","e","requestText"],"mappings":"6vBAAA,SAASA,EAAWC,EAAO,CA4BzB,OA3BeA,EACZ,IAAIC,GACI;AAAA,0CAC6BA,EAAK,aAAa;AAAA,8CACdA,EAAK,YAAY,UAAUA,EAAK,IAAI,YAAYA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0CAK7DA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIPA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,8CAIZA,EAAK,SAAS;AAAA;AAAA;AAAA,gBAIvD,EACA,KAAK,EAAE,CAEZ,CCtBA,SAASC,EAAOC,EAASC,EAAUC,EAAQ,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BG,CAAY,EAAE,EAC7C,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAAF,EAAO,MAAM,QAAU,OAChBE,EAAS,MACtB,CAAK,EACA,KAAKA,GAAY,CAChB,GAAIA,EAAS,QAAU,EACrBC,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,MACI,CACL,MAAMC,EAAWF,EAAS,KACpBN,EAAOF,EAAWU,CAAQ,EAChCL,EAAS,mBAAmB,YAAaH,CAAI,EAC5B,IAAIS,EAAe,aAAa,EACxC,QAAO,CACjB,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCtCA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCR,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAE/CO,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAChBT,EAAS,UAAY,GACrBC,EAAO,MAAM,QAAU,eACvB,MAAMS,EAAcF,EAAK,SAAS,QAAQ,MAE1CV,EAAOY,EAAaV,EAAUC,CAAM,CACtC,CAAC"}